<!DOCTYPE html>
<html>
<head><title>Control Your Character</title></head>
<body>
<canvas id="game" width="500" height="300" style="border:1px solid black;"></canvas>
<script src="https://interactive-website-9620.onrender.com/socket.io/socket.io.js"></script>
<script>
  const socket = io("https://interactive-website-9620.onrender.com");

  const canvas = document.getElementById('game');
  canvas.setAttribute('tabindex', '0');
  canvas.focus();

  const vals = canvas.getContext('2d');
  const ctx = canvas.getContext('2d');
  let x = 100, y = 100;

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "blue";
    vals.font = 'bold 10px Arial';
    vals.fillStyle = 'red'; // Text color
    vals.textAlign = 'center'; // Horizontal alignment
    //vals.textBaseline = 'middle'; // Vertical alignment

    //vals.fillText("x :" + x + ", y: " + y, x/2, y + 5);
    ctx.fillRect(x, y, 20, 20);

    vals.strokeStyle = 'black';

    vals.lineWidth = 2;
    vals.strokeText("x :" + x + ", y: " + y, x, y + 20);
  }

  draw();

  canvas.addEventListener('keydown', e => {
    if (e.key === "ArrowRight") x += 5;
    if (e.key === "ArrowLeft") x -= 5;
    if (e.key === "ArrowUp") y -= 5;
    if (e.key === "ArrowDown") y += 5;
    socket.emit("move", { x, y, emote: "idle" });
    draw();
  });
</script>
</body>
</html>
